<script setup>
import { Link } from '@inertiajs/vue3';
import { ref, computed, onMounted, onUnmounted } from 'vue';

const cart = ref([]);

const loadCart = () => {
    const savedCart = localStorage.getItem('cart');
    if (savedCart) {
        try {
            cart.value = JSON.parse(savedCart);
        } catch (e) {
            cart.value = [];
        }
    }
};

const cartItemCount = computed(() => {
    return cart.value.reduce((sum, item) => sum + (item.quantity || 1), 0);
});

// Слушаем изменения в localStorage
let storageListener = null;

onMounted(() => {
    loadCart();
    // Слушаем изменения localStorage из других вкладок
    storageListener = (e) => {
        if (e.key === 'cart') {
            loadCart();
        }
    };
    window.addEventListener('storage', storageListener);
    
    // Слушаем кастомные события для обновления в той же вкладке
    window.addEventListener('cartUpdated', loadCart);
});

onUnmounted(() => {
    if (storageListener) {
        window.removeEventListener('storage', storageListener);
    }
    window.removeEventListener('cartUpdated', loadCart);
});
</script>

<template>
    <header class="header">
        <div class="top-bar">
            <div class="logo">
            <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_1_4)">
                <g filter="url(#filter0_d_1_4)">
                <mask id="path-1-inside-1_1_4" fill="white">
                <path d="M39.9219 2.5C32.8006 2.51444 25.8307 4.55717 19.8281 8.38906L21.25 10.4469C26.8594 6.88906 33.3594 5 40 5C44.2656 5 48.5 5.77813 52.4844 7.3L53.4688 5.00156C49.1709 3.34778 44.6051 2.49978 40 2.5H39.9219ZM56.0625 6.1125L55.0781 8.41094C63.5625 12.4594 70.0625 19.75 73.1094 28.6406L75.5 27.9219C73.25 17.7344 66.75 9.57812 56.0625 6.1125ZM39.9063 7.96875C33.9063 7.98594 28.0156 9.69063 22.9375 12.8891L39.7031 37.1094C44.5781 28.3906 48.25 19.2969 51.3125 10.0312C47.7031 8.66719 43.8594 7.96875 40 7.96875H39.9063ZM44.5 9.36406L47.4844 13.0922L45.2969 14.85L42.3125 11.1203L44.5 9.36406ZM17.5156 9.98906C5.80939 16.2813 3.22502 25.8125 2.68752 36.25L5.18439 36.4062C6.18283 26.7344 11.1656 17.9062 18.9375 12.0453L17.5156 9.98906ZM34.7188 11.0938C36 11.0938 37.1875 11.425 38.1406 12.0625C39.0938 12.6984 39.8594 13.7422 39.8594 15C39.8594 16.2656 39.0938 17.2969 38.1406 17.9375C37.1875 18.5781 36 18.9062 34.7188 18.9062C33.4375 18.9062 32.25 18.5781 31.2969 17.9375C30.3438 17.2969 29.5781 16.2656 29.5781 15C29.5781 13.7422 30.3438 12.6984 31.2969 12.0625C32.25 11.425 33.4375 11.0938 34.7188 11.0938ZM53.9063 11.1422C51.0469 20.4062 47.3906 29.3438 42.4844 37.7812L53.1563 34.5938C52.6563 33.8281 52.375 32.8906 52.375 31.9063C52.375 29.5625 54.0156 27.4063 56.3438 27.4063C58.6719 27.4063 60.3125 29.5625 60.3125 31.9063C60.3125 32.0938 60.2969 32.2813 60.2813 32.4844L70.2656 29.5C67.4688 21.4531 61.5781 14.8406 53.9063 11.1422ZM34.7188 13.9063C33.9375 13.9063 33.2656 14.1313 32.8594 14.4C32.4531 14.6672 32.3906 14.8766 32.3906 15C32.3906 15.1234 32.4531 15.3328 32.8594 15.6C33.2656 15.875 33.9375 16.0938 34.7188 16.0938C35.5 16.0938 36.1719 15.875 36.5781 15.6C36.9844 15.3328 37.0469 15.1234 37.0469 15C37.0469 14.8766 36.9844 14.6672 36.5781 14.4C36.1719 14.1313 35.5 13.9063 34.7188 13.9063ZM20.625 14.4875C13.6 19.8281 9.08596 27.8281 8.15002 36.5938C17.9375 36.6875 27.7031 36.875 37.2031 38.4062L34.2188 34.0938L31.3281 35.6719L29.9844 33.2031L32.6094 31.7656L23.7031 18.9375L20.0938 21.7969L18.3438 19.5781L22.0938 16.6094L20.625 14.4875ZM57.125 16.6406L59.0313 19.7812L56.625 21.25L54.7188 18.1094L57.125 16.6406ZM40.4844 20.25L41.7031 22.7812L36.9844 25.0156L35.7656 22.4844L40.4844 20.25ZM19.2813 23.5938C21.9375 23.5938 23.9063 26.0313 23.9063 28.75C23.9063 31.4688 21.9375 33.9063 19.2813 33.9063C16.625 33.9063 14.6563 31.4688 14.6563 28.75C14.6563 26.0313 16.625 23.5938 19.2813 23.5938ZM65.8438 25.0469L66.4219 29.3594L63.6406 29.7344L63.0625 25.4219L65.8438 25.0469ZM19.2813 26.4063C18.3906 26.4063 17.4688 27.3281 17.4688 28.75C17.4688 30.1719 18.3906 31.0938 19.2813 31.0938C20.1719 31.0938 21.0938 30.1719 21.0938 28.75C21.0938 27.3281 20.1719 26.4063 19.2813 26.4063ZM56.3438 30.2188C55.8438 30.2188 55.1875 30.8281 55.1875 31.9063C55.1875 32.9844 55.8438 33.5938 56.3438 33.5938C56.8438 33.5938 57.5 32.9844 57.5 31.9063C57.5 30.8281 56.8438 30.2188 56.3438 30.2188ZM76.3125 30.625L73.9063 31.3281C74.625 34.1563 75 37.0781 75 40C75 47.3594 72.6875 54.5313 68.375 60.5L70.3438 62.0469C75 55.6406 77.5 47.9219 77.5 40C77.5 36.8438 77.1094 33.6875 76.3125 30.625ZM71.0625 32.1875L51.6875 37.9844L53.25 39.0938L51.625 41.375L48.2813 39L43 40.5781C50.0469 47.2812 58.2656 52.7188 66.0313 58.6563C69.75 53.2188 70.9375 46.6875 72.0313 40C72.4531 37.3906 71.7031 34.7344 71.0625 32.1875ZM2.51096 39.0625C2.49533 39.375 2.51096 39.6875 2.49533 40C1.70158 50.9844 3.91096 61.6719 15.3969 68.3125L16.9688 66.3594C9.36252 59.7188 4.99846 50.1094 5.00002 40V39.2188L2.51096 39.0625ZM7.97502 39.4062V40C7.97502 43.4375 8.52502 46.8438 9.60783 50.1094L11.325 46.4375L13.8719 47.625L11.0391 53.6875C12.9047 57.6406 15.5563 61.1563 18.8281 64.0469L37.1875 41.2344L17.0156 39.9688L13.1719 43.7969L11.1844 41.7969L13.25 39.7344L7.97502 39.4062ZM65.4063 41.4531C65.7656 41.4375 66.125 41.4844 66.4844 41.6094C67.6094 41.9531 68.4063 42.875 68.7813 43.9219C69.1563 44.9375 69.1563 46.0938 68.7969 47.2344C68.4531 48.3594 67.7656 49.3125 66.8906 49.9531C65.9844 50.5625 64.8125 50.875 63.6719 50.5156C63.2656 50.3906 62.9063 50.1875 62.5938 49.9375L61.375 51.3281L57.0625 47.6094L58.9063 45.4844L61.1719 47.4375C61.0156 46.6094 61.0781 45.7344 61.3438 44.8906C61.7031 43.75 62.375 42.8125 63.2656 42.1875C63.8906 41.75 64.6406 41.4688 65.4063 41.4531ZM24.6094 42.3125L29.25 44.0625L28.25 46.6875L23.6094 44.9375L24.6094 42.3125ZM41.5938 43.0312L42.4219 56.25C43.1719 56.4063 43.8594 56.6563 44.4688 57.0156C45.5156 57.625 46.4063 58.6719 46.4063 60C46.4063 61.3281 45.5156 62.375 44.4688 62.9844C43.9844 63.2656 43.4531 63.4844 42.8906 63.6406L43.4063 71.8438C45.1406 71.6562 46.8438 71.3281 48.5156 70.875L49.0625 66.3281L51.8438 66.6719L51.4531 69.9062C56.4219 68.0156 60.8281 64.9063 64.2969 60.875C61.0625 58.3281 57.2031 56.5156 54.5781 53.2344L53.4531 56.375L50.7969 55.4375L52.2344 51.3906C47.8281 49.2031 45.0781 45.8594 41.5938 43.0312ZM38.8281 43.7031L21.0156 65.7969C26.5156 69.8438 33.1719 72.0312 40 72.0312H40.5938L40.0781 63.875C38.9531 63.7969 37.9219 63.5 37.0625 62.9844C36.0156 62.375 35.125 61.3281 35.125 60C35.125 58.6719 36.0156 57.625 37.0625 57.0156C37.7969 56.5781 38.6719 56.2969 39.6094 56.1719L38.8281 43.7031ZM65.4844 44.2656C65.3281 44.25 65.1406 44.3125 64.8906 44.4688C64.5625 44.7031 64.2188 45.1563 64.0313 45.7344C63.8594 46.3125 63.8906 46.875 64.0156 47.25C64.1563 47.625 64.3438 47.7813 64.5156 47.8281C64.7031 47.8906 64.9375 47.8594 65.2656 47.6406C65.5781 47.4219 65.9375 46.9688 66.125 46.3906C66.2969 45.8125 66.2656 45.2344 66.1406 44.875C66 44.5 65.8125 44.3438 65.6406 44.2812C65.5938 44.2656 65.5469 44.2656 65.4844 44.2656ZM19.6563 48.9375C20.3281 48.9531 21 49.1094 21.625 49.4063C23.8594 50.4844 24.9531 53.1719 23.875 55.4063C22.7969 57.6563 20.0156 58.4844 17.7813 57.4063C15.5438 56.3281 14.4594 53.6563 15.5344 51.4063C16.3125 49.7969 17.9531 48.9219 19.6563 48.9375ZM19.5156 51.7344C18.8906 51.75 18.3281 52.0781 18.0625 52.625C17.6875 53.4219 18.0469 54.4219 19 54.875C19.9531 55.3281 20.9531 54.9844 21.3438 54.1875C21.7188 53.4063 21.3594 52.4063 20.4063 51.9531C20.1094 51.7969 19.7969 51.7344 19.5156 51.7344ZM40.7656 58.9063C39.8281 58.9063 38.9844 59.1563 38.4844 59.4375C37.9844 59.7344 37.9375 59.9531 37.9375 60C37.9375 60.0469 37.9844 60.2656 38.4844 60.5625C38.9844 60.8438 39.8281 61.0938 40.7656 61.0938C41.7031 61.0938 42.5469 60.8438 43.0469 60.5625C43.5469 60.2656 43.5938 60.0469 43.5938 60C43.5938 59.9531 43.5469 59.7344 43.0469 59.4375C42.5469 59.1563 41.7031 58.9063 40.7656 58.9063ZM66.625 62.7188C60.7813 69.5625 52.5469 73.8906 43.5938 74.8125L43.75 77.3125C53.75 77.8281 63.2188 75.5469 68.5938 64.2656L66.625 62.7188ZM28.2031 63.1875L32.5938 63.5938L32.3438 66.4063L27.9531 66L28.2031 63.1875ZM19.1563 68.1094L17.5938 70.0625C23.2344 77.0938 31.6875 78.1406 40 77.5C40.3125 77.4688 40.625 77.5 40.9375 77.4844L40.7813 74.9844C40.5156 75 40.2656 75 40 75C32.5 75 25.1875 72.5781 19.1563 68.1094Z"/>
                </mask>
                <path d="M39.9219 2.5C32.8006 2.51444 25.8307 4.55717 19.8281 8.38906L21.25 10.4469C26.8594 6.88906 33.3594 5 40 5C44.2656 5 48.5 5.77813 52.4844 7.3L53.4688 5.00156C49.1709 3.34778 44.6051 2.49978 40 2.5H39.9219ZM56.0625 6.1125L55.0781 8.41094C63.5625 12.4594 70.0625 19.75 73.1094 28.6406L75.5 27.9219C73.25 17.7344 66.75 9.57812 56.0625 6.1125ZM39.9063 7.96875C33.9063 7.98594 28.0156 9.69063 22.9375 12.8891L39.7031 37.1094C44.5781 28.3906 48.25 19.2969 51.3125 10.0312C47.7031 8.66719 43.8594 7.96875 40 7.96875H39.9063ZM44.5 9.36406L47.4844 13.0922L45.2969 14.85L42.3125 11.1203L44.5 9.36406ZM17.5156 9.98906C5.80939 16.2813 3.22502 25.8125 2.68752 36.25L5.18439 36.4062C6.18283 26.7344 11.1656 17.9062 18.9375 12.0453L17.5156 9.98906ZM34.7188 11.0938C36 11.0938 37.1875 11.425 38.1406 12.0625C39.0938 12.6984 39.8594 13.7422 39.8594 15C39.8594 16.2656 39.0938 17.2969 38.1406 17.9375C37.1875 18.5781 36 18.9062 34.7188 18.9062C33.4375 18.9062 32.25 18.5781 31.2969 17.9375C30.3438 17.2969 29.5781 16.2656 29.5781 15C29.5781 13.7422 30.3438 12.6984 31.2969 12.0625C32.25 11.425 33.4375 11.0938 34.7188 11.0938ZM53.9063 11.1422C51.0469 20.4062 47.3906 29.3438 42.4844 37.7812L53.1563 34.5938C52.6563 33.8281 52.375 32.8906 52.375 31.9063C52.375 29.5625 54.0156 27.4063 56.3438 27.4063C58.6719 27.4063 60.3125 29.5625 60.3125 31.9063C60.3125 32.0938 60.2969 32.2813 60.2813 32.4844L70.2656 29.5C67.4688 21.4531 61.5781 14.8406 53.9063 11.1422ZM34.7188 13.9063C33.9375 13.9063 33.2656 14.1313 32.8594 14.4C32.4531 14.6672 32.3906 14.8766 32.3906 15C32.3906 15.1234 32.4531 15.3328 32.8594 15.6C33.2656 15.875 33.9375 16.0938 34.7188 16.0938C35.5 16.0938 36.1719 15.875 36.5781 15.6C36.9844 15.3328 37.0469 15.1234 37.0469 15C37.0469 14.8766 36.9844 14.6672 36.5781 14.4C36.1719 14.1313 35.5 13.9063 34.7188 13.9063ZM20.625 14.4875C13.6 19.8281 9.08596 27.8281 8.15002 36.5938C17.9375 36.6875 27.7031 36.875 37.2031 38.4062L34.2188 34.0938L31.3281 35.6719L29.9844 33.2031L32.6094 31.7656L23.7031 18.9375L20.0938 21.7969L18.3438 19.5781L22.0938 16.6094L20.625 14.4875ZM57.125 16.6406L59.0313 19.7812L56.625 21.25L54.7188 18.1094L57.125 16.6406ZM40.4844 20.25L41.7031 22.7812L36.9844 25.0156L35.7656 22.4844L40.4844 20.25ZM19.2813 23.5938C21.9375 23.5938 23.9063 26.0313 23.9063 28.75C23.9063 31.4688 21.9375 33.9063 19.2813 33.9063C16.625 33.9063 14.6563 31.4688 14.6563 28.75C14.6563 26.0313 16.625 23.5938 19.2813 23.5938ZM65.8438 25.0469L66.4219 29.3594L63.6406 29.7344L63.0625 25.4219L65.8438 25.0469ZM19.2813 26.4063C18.3906 26.4063 17.4688 27.3281 17.4688 28.75C17.4688 30.1719 18.3906 31.0938 19.2813 31.0938C20.1719 31.0938 21.0938 30.1719 21.0938 28.75C21.0938 27.3281 20.1719 26.4063 19.2813 26.4063ZM56.3438 30.2188C55.8438 30.2188 55.1875 30.8281 55.1875 31.9063C55.1875 32.9844 55.8438 33.5938 56.3438 33.5938C56.8438 33.5938 57.5 32.9844 57.5 31.9063C57.5 30.8281 56.8438 30.2188 56.3438 30.2188ZM76.3125 30.625L73.9063 31.3281C74.625 34.1563 75 37.0781 75 40C75 47.3594 72.6875 54.5313 68.375 60.5L70.3438 62.0469C75 55.6406 77.5 47.9219 77.5 40C77.5 36.8438 77.1094 33.6875 76.3125 30.625ZM71.0625 32.1875L51.6875 37.9844L53.25 39.0938L51.625 41.375L48.2813 39L43 40.5781C50.0469 47.2812 58.2656 52.7188 66.0313 58.6563C69.75 53.2188 70.9375 46.6875 72.0313 40C72.4531 37.3906 71.7031 34.7344 71.0625 32.1875ZM2.51096 39.0625C2.49533 39.375 2.51096 39.6875 2.49533 40C1.70158 50.9844 3.91096 61.6719 15.3969 68.3125L16.9688 66.3594C9.36252 59.7188 4.99846 50.1094 5.00002 40V39.2188L2.51096 39.0625ZM7.97502 39.4062V40C7.97502 43.4375 8.52502 46.8438 9.60783 50.1094L11.325 46.4375L13.8719 47.625L11.0391 53.6875C12.9047 57.6406 15.5563 61.1563 18.8281 64.0469L37.1875 41.2344L17.0156 39.9688L13.1719 43.7969L11.1844 41.7969L13.25 39.7344L7.97502 39.4062ZM65.4063 41.4531C65.7656 41.4375 66.125 41.4844 66.4844 41.6094C67.6094 41.9531 68.4063 42.875 68.7813 43.9219C69.1563 44.9375 69.1563 46.0938 68.7969 47.2344C68.4531 48.3594 67.7656 49.3125 66.8906 49.9531C65.9844 50.5625 64.8125 50.875 63.6719 50.5156C63.2656 50.3906 62.9063 50.1875 62.5938 49.9375L61.375 51.3281L57.0625 47.6094L58.9063 45.4844L61.1719 47.4375C61.0156 46.6094 61.0781 45.7344 61.3438 44.8906C61.7031 43.75 62.375 42.8125 63.2656 42.1875C63.8906 41.75 64.6406 41.4688 65.4063 41.4531ZM24.6094 42.3125L29.25 44.0625L28.25 46.6875L23.6094 44.9375L24.6094 42.3125ZM41.5938 43.0312L42.4219 56.25C43.1719 56.4063 43.8594 56.6563 44.4688 57.0156C45.5156 57.625 46.4063 58.6719 46.4063 60C46.4063 61.3281 45.5156 62.375 44.4688 62.9844C43.9844 63.2656 43.4531 63.4844 42.8906 63.6406L43.4063 71.8438C45.1406 71.6562 46.8438 71.3281 48.5156 70.875L49.0625 66.3281L51.8438 66.6719L51.4531 69.9062C56.4219 68.0156 60.8281 64.9063 64.2969 60.875C61.0625 58.3281 57.2031 56.5156 54.5781 53.2344L53.4531 56.375L50.7969 55.4375L52.2344 51.3906C47.8281 49.2031 45.0781 45.8594 41.5938 43.0312ZM38.8281 43.7031L21.0156 65.7969C26.5156 69.8438 33.1719 72.0312 40 72.0312H40.5938L40.0781 63.875C38.9531 63.7969 37.9219 63.5 37.0625 62.9844C36.0156 62.375 35.125 61.3281 35.125 60C35.125 58.6719 36.0156 57.625 37.0625 57.0156C37.7969 56.5781 38.6719 56.2969 39.6094 56.1719L38.8281 43.7031ZM65.4844 44.2656C65.3281 44.25 65.1406 44.3125 64.8906 44.4688C64.5625 44.7031 64.2188 45.1563 64.0313 45.7344C63.8594 46.3125 63.8906 46.875 64.0156 47.25C64.1563 47.625 64.3438 47.7813 64.5156 47.8281C64.7031 47.8906 64.9375 47.8594 65.2656 47.6406C65.5781 47.4219 65.9375 46.9688 66.125 46.3906C66.2969 45.8125 66.2656 45.2344 66.1406 44.875C66 44.5 65.8125 44.3438 65.6406 44.2812C65.5938 44.2656 65.5469 44.2656 65.4844 44.2656ZM19.6563 48.9375C20.3281 48.9531 21 49.1094 21.625 49.4063C23.8594 50.4844 24.9531 53.1719 23.875 55.4063C22.7969 57.6563 20.0156 58.4844 17.7813 57.4063C15.5438 56.3281 14.4594 53.6563 15.5344 51.4063C16.3125 49.7969 17.9531 48.9219 19.6563 48.9375ZM19.5156 51.7344C18.8906 51.75 18.3281 52.0781 18.0625 52.625C17.6875 53.4219 18.0469 54.4219 19 54.875C19.9531 55.3281 20.9531 54.9844 21.3438 54.1875C21.7188 53.4063 21.3594 52.4063 20.4063 51.9531C20.1094 51.7969 19.7969 51.7344 19.5156 51.7344ZM40.7656 58.9063C39.8281 58.9063 38.9844 59.1563 38.4844 59.4375C37.9844 59.7344 37.9375 59.9531 37.9375 60C37.9375 60.0469 37.9844 60.2656 38.4844 60.5625C38.9844 60.8438 39.8281 61.0938 40.7656 61.0938C41.7031 61.0938 42.5469 60.8438 43.0469 60.5625C43.5469 60.2656 43.5938 60.0469 43.5938 60C43.5938 59.9531 43.5469 59.7344 43.0469 59.4375C42.5469 59.1563 41.7031 58.9063 40.7656 58.9063ZM66.625 62.7188C60.7813 69.5625 52.5469 73.8906 43.5938 74.8125L43.75 77.3125C53.75 77.8281 63.2188 75.5469 68.5938 64.2656L66.625 62.7188ZM28.2031 63.1875L32.5938 63.5938L32.3438 66.4063L27.9531 66L28.2031 63.1875ZM19.1563 68.1094L17.5938 70.0625C23.2344 77.0938 31.6875 78.1406 40 77.5C40.3125 77.4688 40.625 77.5 40.9375 77.4844L40.7813 74.9844C40.5156 75 40.2656 75 40 75C32.5 75 25.1875 72.5781 19.1563 68.1094Z" fill="#99582A"/>
                <path d="M39.9219 2.5C32.8006 2.51444 25.8307 4.55717 19.8281 8.38906L21.25 10.4469C26.8594 6.88906 33.3594 5 40 5C44.2656 5 48.5 5.77813 52.4844 7.3L53.4688 5.00156C49.1709 3.34778 44.6051 2.49978 40 2.5H39.9219ZM56.0625 6.1125L55.0781 8.41094C63.5625 12.4594 70.0625 19.75 73.1094 28.6406L75.5 27.9219C73.25 17.7344 66.75 9.57812 56.0625 6.1125ZM39.9063 7.96875C33.9063 7.98594 28.0156 9.69063 22.9375 12.8891L39.7031 37.1094C44.5781 28.3906 48.25 19.2969 51.3125 10.0312C47.7031 8.66719 43.8594 7.96875 40 7.96875H39.9063ZM44.5 9.36406L47.4844 13.0922L45.2969 14.85L42.3125 11.1203L44.5 9.36406ZM17.5156 9.98906C5.80939 16.2813 3.22502 25.8125 2.68752 36.25L5.18439 36.4062C6.18283 26.7344 11.1656 17.9062 18.9375 12.0453L17.5156 9.98906ZM34.7188 11.0938C36 11.0938 37.1875 11.425 38.1406 12.0625C39.0938 12.6984 39.8594 13.7422 39.8594 15C39.8594 16.2656 39.0938 17.2969 38.1406 17.9375C37.1875 18.5781 36 18.9062 34.7188 18.9062C33.4375 18.9062 32.25 18.5781 31.2969 17.9375C30.3438 17.2969 29.5781 16.2656 29.5781 15C29.5781 13.7422 30.3438 12.6984 31.2969 12.0625C32.25 11.425 33.4375 11.0938 34.7188 11.0938ZM53.9063 11.1422C51.0469 20.4062 47.3906 29.3438 42.4844 37.7812L53.1563 34.5938C52.6563 33.8281 52.375 32.8906 52.375 31.9063C52.375 29.5625 54.0156 27.4063 56.3438 27.4063C58.6719 27.4063 60.3125 29.5625 60.3125 31.9063C60.3125 32.0938 60.2969 32.2813 60.2813 32.4844L70.2656 29.5C67.4688 21.4531 61.5781 14.8406 53.9063 11.1422ZM34.7188 13.9063C33.9375 13.9063 33.2656 14.1313 32.8594 14.4C32.4531 14.6672 32.3906 14.8766 32.3906 15C32.3906 15.1234 32.4531 15.3328 32.8594 15.6C33.2656 15.875 33.9375 16.0938 34.7188 16.0938C35.5 16.0938 36.1719 15.875 36.5781 15.6C36.9844 15.3328 37.0469 15.1234 37.0469 15C37.0469 14.8766 36.9844 14.6672 36.5781 14.4C36.1719 14.1313 35.5 13.9063 34.7188 13.9063ZM20.625 14.4875C13.6 19.8281 9.08596 27.8281 8.15002 36.5938C17.9375 36.6875 27.7031 36.875 37.2031 38.4062L34.2188 34.0938L31.3281 35.6719L29.9844 33.2031L32.6094 31.7656L23.7031 18.9375L20.0938 21.7969L18.3438 19.5781L22.0938 16.6094L20.625 14.4875ZM57.125 16.6406L59.0313 19.7812L56.625 21.25L54.7188 18.1094L57.125 16.6406ZM40.4844 20.25L41.7031 22.7812L36.9844 25.0156L35.7656 22.4844L40.4844 20.25ZM19.2813 23.5938C21.9375 23.5938 23.9063 26.0313 23.9063 28.75C23.9063 31.4688 21.9375 33.9063 19.2813 33.9063C16.625 33.9063 14.6563 31.4688 14.6563 28.75C14.6563 26.0313 16.625 23.5938 19.2813 23.5938ZM65.8438 25.0469L66.4219 29.3594L63.6406 29.7344L63.0625 25.4219L65.8438 25.0469ZM19.2813 26.4063C18.3906 26.4063 17.4688 27.3281 17.4688 28.75C17.4688 30.1719 18.3906 31.0938 19.2813 31.0938C20.1719 31.0938 21.0938 30.1719 21.0938 28.75C21.0938 27.3281 20.1719 26.4063 19.2813 26.4063ZM56.3438 30.2188C55.8438 30.2188 55.1875 30.8281 55.1875 31.9063C55.1875 32.9844 55.8438 33.5938 56.3438 33.5938C56.8438 33.5938 57.5 32.9844 57.5 31.9063C57.5 30.8281 56.8438 30.2188 56.3438 30.2188ZM76.3125 30.625L73.9063 31.3281C74.625 34.1563 75 37.0781 75 40C75 47.3594 72.6875 54.5313 68.375 60.5L70.3438 62.0469C75 55.6406 77.5 47.9219 77.5 40C77.5 36.8438 77.1094 33.6875 76.3125 30.625ZM71.0625 32.1875L51.6875 37.9844L53.25 39.0938L51.625 41.375L48.2813 39L43 40.5781C50.0469 47.2812 58.2656 52.7188 66.0313 58.6563C69.75 53.2188 70.9375 46.6875 72.0313 40C72.4531 37.3906 71.7031 34.7344 71.0625 32.1875ZM2.51096 39.0625C2.49533 39.375 2.51096 39.6875 2.49533 40C1.70158 50.9844 3.91096 61.6719 15.3969 68.3125L16.9688 66.3594C9.36252 59.7188 4.99846 50.1094 5.00002 40V39.2188L2.51096 39.0625ZM7.97502 39.4062V40C7.97502 43.4375 8.52502 46.8438 9.60783 50.1094L11.325 46.4375L13.8719 47.625L11.0391 53.6875C12.9047 57.6406 15.5563 61.1563 18.8281 64.0469L37.1875 41.2344L17.0156 39.9688L13.1719 43.7969L11.1844 41.7969L13.25 39.7344L7.97502 39.4062ZM65.4063 41.4531C65.7656 41.4375 66.125 41.4844 66.4844 41.6094C67.6094 41.9531 68.4063 42.875 68.7813 43.9219C69.1563 44.9375 69.1563 46.0938 68.7969 47.2344C68.4531 48.3594 67.7656 49.3125 66.8906 49.9531C65.9844 50.5625 64.8125 50.875 63.6719 50.5156C63.2656 50.3906 62.9063 50.1875 62.5938 49.9375L61.375 51.3281L57.0625 47.6094L58.9063 45.4844L61.1719 47.4375C61.0156 46.6094 61.0781 45.7344 61.3438 44.8906C61.7031 43.75 62.375 42.8125 63.2656 42.1875C63.8906 41.75 64.6406 41.4688 65.4063 41.4531ZM24.6094 42.3125L29.25 44.0625L28.25 46.6875L23.6094 44.9375L24.6094 42.3125ZM41.5938 43.0312L42.4219 56.25C43.1719 56.4063 43.8594 56.6563 44.4688 57.0156C45.5156 57.625 46.4063 58.6719 46.4063 60C46.4063 61.3281 45.5156 62.375 44.4688 62.9844C43.9844 63.2656 43.4531 63.4844 42.8906 63.6406L43.4063 71.8438C45.1406 71.6562 46.8438 71.3281 48.5156 70.875L49.0625 66.3281L51.8438 66.6719L51.4531 69.9062C56.4219 68.0156 60.8281 64.9063 64.2969 60.875C61.0625 58.3281 57.2031 56.5156 54.5781 53.2344L53.4531 56.375L50.7969 55.4375L52.2344 51.3906C47.8281 49.2031 45.0781 45.8594 41.5938 43.0312ZM38.8281 43.7031L21.0156 65.7969C26.5156 69.8438 33.1719 72.0312 40 72.0312H40.5938L40.0781 63.875C38.9531 63.7969 37.9219 63.5 37.0625 62.9844C36.0156 62.375 35.125 61.3281 35.125 60C35.125 58.6719 36.0156 57.625 37.0625 57.0156C37.7969 56.5781 38.6719 56.2969 39.6094 56.1719L38.8281 43.7031ZM65.4844 44.2656C65.3281 44.25 65.1406 44.3125 64.8906 44.4688C64.5625 44.7031 64.2188 45.1563 64.0313 45.7344C63.8594 46.3125 63.8906 46.875 64.0156 47.25C64.1563 47.625 64.3438 47.7813 64.5156 47.8281C64.7031 47.8906 64.9375 47.8594 65.2656 47.6406C65.5781 47.4219 65.9375 46.9688 66.125 46.3906C66.2969 45.8125 66.2656 45.2344 66.1406 44.875C66 44.5 65.8125 44.3438 65.6406 44.2812C65.5938 44.2656 65.5469 44.2656 65.4844 44.2656ZM19.6563 48.9375C20.3281 48.9531 21 49.1094 21.625 49.4063C23.8594 50.4844 24.9531 53.1719 23.875 55.4063C22.7969 57.6563 20.0156 58.4844 17.7813 57.4063C15.5438 56.3281 14.4594 53.6563 15.5344 51.4063C16.3125 49.7969 17.9531 48.9219 19.6563 48.9375ZM19.5156 51.7344C18.8906 51.75 18.3281 52.0781 18.0625 52.625C17.6875 53.4219 18.0469 54.4219 19 54.875C19.9531 55.3281 20.9531 54.9844 21.3438 54.1875C21.7188 53.4063 21.3594 52.4063 20.4063 51.9531C20.1094 51.7969 19.7969 51.7344 19.5156 51.7344ZM40.7656 58.9063C39.8281 58.9063 38.9844 59.1563 38.4844 59.4375C37.9844 59.7344 37.9375 59.9531 37.9375 60C37.9375 60.0469 37.9844 60.2656 38.4844 60.5625C38.9844 60.8438 39.8281 61.0938 40.7656 61.0938C41.7031 61.0938 42.5469 60.8438 43.0469 60.5625C43.5469 60.2656 43.5938 60.0469 43.5938 60C43.5938 59.9531 43.5469 59.7344 43.0469 59.4375C42.5469 59.1563 41.7031 58.9063 40.7656 58.9063ZM66.625 62.7188C60.7813 69.5625 52.5469 73.8906 43.5938 74.8125L43.75 77.3125C53.75 77.8281 63.2188 75.5469 68.5938 64.2656L66.625 62.7188ZM28.2031 63.1875L32.5938 63.5938L32.3438 66.4063L27.9531 66L28.2031 63.1875ZM19.1563 68.1094L17.5938 70.0625C23.2344 77.0938 31.6875 78.1406 40 77.5C40.3125 77.4688 40.625 77.5 40.9375 77.4844L40.7813 74.9844C40.5156 75 40.2656 75 40 75C32.5 75 25.1875 72.5781 19.1563 68.1094Z" stroke="black" stroke-width="2" mask="url(#path-1-inside-1_1_4)"/>
                </g>
                </g>
                <defs>
                <filter id="filter0_d_1_4" x="-1.6499" y="2.5" width="83.1499" height="83.1603" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                <feOffset dy="4"/>
                <feGaussianBlur stdDeviation="2"/>
                <feComposite in2="hardAlpha" operator="out"/>
                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1_4"/>
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1_4" result="shape"/>
                </filter>
                <clipPath id="clip0_1_4">
                <rect width="80" height="80" fill="white"/>
                </clipPath>
                </defs>
            </svg>
                <h1 class="logo-text">Пицца от Дениса</h1>
            </div>

            <nav class="nav">
                <Link :href="route('welcome')" class="nav-link">Главная</Link>
                <Link :href="route('about')" class="nav-link">О нас</Link>
                <Link :href="route('contact')" class="nav-link">Связаться</Link>
            </nav>

            <div class="icons">
                <Link :href="route('cart')" class="icon-btn cart-btn" aria-label="Корзина" id="cart-icon">
                    <svg width="32" height="32" viewBox="0 0 65 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M64.3763 22.4948C64.1417 22.224 63.8506 22.0066 63.5229 21.8575C63.1951 21.7084 62.8386 21.6313 62.4778 21.6313H47.4899V11.7627C47.4899 9.79974 46.7004 7.91716 45.295 6.52912C43.8896 5.14109 41.9835 4.3613 39.996 4.3613H25.0081C23.0206 4.3613 21.1145 5.14109 19.7091 6.52912C18.3037 7.91716 17.5142 9.79974 17.5142 11.7627V21.6313H2.52627C2.16417 21.6272 1.80552 21.701 1.47515 21.8474C1.14478 21.9939 0.850603 22.2095 0.612991 22.4794C0.375378 22.7493 0.200016 23.0669 0.0990546 23.4104C-0.00190693 23.7539 -0.0260539 24.1149 0.0282866 24.4685L4.72449 54.4443C4.90515 55.6209 5.51027 56.6933 6.42835 57.4641C7.34643 58.2348 8.5156 58.6519 9.72045 58.6384H55.3336C56.5384 58.6519 57.7076 58.2348 58.6257 57.4641C59.5438 56.6933 60.1489 55.6209 60.3295 54.4443L64.9758 24.4685C65.0258 24.1163 64.9981 23.7575 64.8946 23.4169C64.7912 23.0762 64.6143 22.7616 64.3763 22.4948ZM22.5101 11.7627C22.5101 11.1084 22.7733 10.4809 23.2418 10.0182C23.7102 9.55551 24.3456 9.29558 25.0081 9.29558H39.996C40.6585 9.29558 41.2939 9.55551 41.7623 10.0182C42.2308 10.4809 42.494 11.1084 42.494 11.7627V21.6313H22.5101V11.7627ZM55.3336 53.7041H9.67049L5.4489 26.5656H59.5552L55.3336 53.7041Z" fill="#99582A"/>
                </svg>
                <span v-if="cartItemCount > 0" class="cart-badge">{{ cartItemCount }}</span>
                </Link>

                <button class="icon-btn" aria-label="Профиль">
                    <svg width="32" height="32" viewBox="0 0 80 78" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M39.5314 39.487C31.0782 39.487 24.2686 32.8476 24.2686 24.6057C24.2686 16.3637 31.0782 9.72437 39.5314 9.72437C47.9847 9.72437 54.7943 16.3637 54.7943 24.6057C54.7943 32.8476 47.9847 39.487 39.5314 39.487ZM39.5314 14.3032C33.6611 14.3032 28.9648 18.8821 28.9648 24.6057C28.9648 30.3293 33.6611 34.9081 39.5314 34.9081C45.4018 34.9081 50.0981 30.3293 50.0981 24.6057C50.0981 18.8821 45.4018 14.3032 39.5314 14.3032Z" fill="#99582A"/>
                    <path d="M18.8696 57.5736V68.2767H14.1738V57.5736C14.1738 48.5301 25.5621 41.5479 40.0033 41.5479C54.4446 41.5479 65.8328 48.5301 65.8328 57.5736V68.2767H61.137V57.5736C61.137 51.3922 51.5091 46.1263 40.0033 46.1263C28.4976 46.1263 18.8696 51.3922 18.8696 57.5736Z" fill="#99582A"/>
                </svg>
                </button>
            </div>
        </div>
    </header>
</template>

<style scoped>
.header {
            width: 100%;
            background: #d7b389;
            border-bottom: 4px solid #c49a6c;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    position: sticky;
    top: 0;
    z-index: 100;
        }

        .top-bar {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
    padding: 12px 20px;
    gap: 20px;
        }

        .logo {
            display: flex;
            align-items: center;
    gap: 12px;
}

.logo svg {
    flex-shrink: 0;
}

.logo-text {
    font-family: "Dela Gothic One", sans-serif;
    font-size: 24px;
            font-weight: bold;
    color: #3b2b1f;
    margin: 0;
    white-space: nowrap;
        }

        .nav {
            display: flex;
            gap: 25px;
    flex: 1;
    justify-content: center;
        }

.nav-link {
            text-decoration: none;
            color: #3b2b1f;
    font-size: 16px;
    font-weight: 600;
    font-family: "Dela Gothic One", sans-serif;
    transition: color 0.3s ease;
    position: relative;
}

.nav-link:hover {
    color: #99582A;
}

.nav-link::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 0;
    height: 2px;
    background: #99582A;
    transition: width 0.3s ease;
}

.nav-link:hover::after {
    width: 100%;
        }

        .icons {
            display: flex;
    gap: 12px;
    align-items: center;
}

.icon-btn {
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 8px;
    border-radius: 8px;
    transition: background-color 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
}

.icon-btn:hover {
    background: rgba(153, 88, 42, 0.1);
}

.icon-btn svg {
    width: 28px;
    height: 28px;
}

.cart-btn {
    position: relative;
}

.cart-badge {
    position: absolute;
    top: 0;
    right: 0;
    background: #e74c3c;
    color: white;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: bold;
    font-family: "Dela Gothic One", sans-serif;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    line-height: 1;
}

@media (max-width: 768px) {
    .top-bar {
        flex-wrap: wrap;
        padding: 12px 15px;
    }
    
    .logo-text {
        font-size: 18px;
    }
    
    .nav {
        order: 3;
        width: 100%;
        justify-content: center;
        gap: 15px;
    }
    
    .nav-link {
        font-size: 14px;
    }
    
    .logo svg {
        width: 60px;
        height: 60px;
    }
        }
</style>
